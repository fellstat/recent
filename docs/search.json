[{"path":"https://fellstat.github.io/recent/articles/design_and_data.html","id":"study-design","dir":"Articles","previous_headings":"","what":"Study Design","title":"A Practical Guide to Design and Data Collection for RITA Studies","text":"Data must collected context population representative cross-sectional survey. simple random sample, often complex survey design whose analysis involves use survey weights.","code":""},{"path":"https://fellstat.github.io/recent/articles/design_and_data.html","id":"data-collection","dir":"Articles","previous_headings":"Study Design","what":"Data Collection","title":"A Practical Guide to Design and Data Collection for RITA Studies","text":"Incidence estimation requires following data elements: HIV Status: enrolled subject given HIV test. type test close possible seropositivity definition used reference parameter study. recommend using [TODO: recommendation]. Lag-Avidity Assay: binary variable indicating “recent” ODn < 1.5 “non-recent” ODn>=1.5. collected HIV+ individuals. Anti-Retroviral Therapy (ARV) biomarkers: binary variable distinguishing currently ART . biomarkers cover types therapies use population. collected HIV+ individuals. Viral Load: viral load copies per milliliter. Self-Reported Previous Diagnosis: binary variable indicating whether individual reports previous positive HIV test. collected subjects. Self-Reported Treatment Status: binary variable indicating whether individual reports ARV therapy. Date Last HIV Test: day, month year individual’s last HIV test collected. Date Data Collection: day, month year subject interviewed collected. , combined time last HIV test used calculate time since last HIV test.","code":""},{"path":"https://fellstat.github.io/recent/articles/design_and_data.html","id":"missing-data-and-variable-construction","dir":"Articles","previous_headings":"Study Design","what":"Missing Data and Variable Construction","title":"A Practical Guide to Design and Data Collection for RITA Studies","text":"amount missing data minimized. especially true elements 1-5, critical RITA algorithm. software can handle missing data, missing data reduce power can potentially introduce biases. Individuals may recall exact day last HIV test, test long ago, may recall month either. cases recommended midpoint time interval imputed. example, month missing, June might imputed. day month missing, 15 may imputed. potential period overlaps survey date, impute midpoint start period survey date. example, subject reports test year 2021 survey data collected 1/30/2021, 1/15/2021 imputed test date. subject reports tested June 2021 without giving day survey date 6/10/2021, 6/5/2021 imputed. individual considered positive ARV biomarkers individual biomarkers positive. individual considered treated positive ARV biomarkers.Additionally, individual biomarkers missing, individual considered treated self-report ARV use. individual considered undiagnosed treated self-report previous diagnosis.","code":""},{"path":[]},{"path":"https://fellstat.github.io/recent/articles/design_and_data.html","id":"choosing-a-rita","dir":"Articles","previous_headings":"Pre-Analysis","what":"Choosing a RITA","title":"A Practical Guide to Design and Data Collection for RITA Studies","text":"Lag-Avidity Assay known high false positive rates treated elite controller individuals. , imperative screening step introduced prevent individuals classified recent. known recent infection testing algorithm (RITA). two algorithms can used modern study. “Treatment RITA” automatically classifies elite controller ART biomarker positive individuals non-recent. “Diagnosis RITA” classifies previously diagnosed elite controllers non-recent. following must true classified recent (RITA2): HIV Positive Viral Load >1000 c/ml Untreated. LAg-Avidity ODn > 1.5 following must true classified recent (RITA3): HIV Positive Viral Load > 1000 c/ml Undiagnosed LAg-Avidity ODn > 1.5 call subject RITA recent conditions RITA met. call individual screened non-LAg-Avidity conditions met. older studies used viral load ART biomarkers screen treated individuals (RITA1). recommend studies going forward. Treatment RITA used successfully past; however, using RITA --date statistical methodology requires additional external parameter curve representing distribution time diagnosis treatment.","code":""},{"path":"https://fellstat.github.io/recent/articles/design_and_data.html","id":"reference-parameters","dir":"Articles","previous_headings":"Pre-Analysis","what":"Reference Parameters","title":"A Practical Guide to Design and Data Collection for RITA Studies","text":"Information assay’s test performance introduced reference parameters. three relevant parameters incidence estimation. Recency period (tau): dividing line recent long-term individuals. chosen large enough rate non-recent screened individuals roughly probability positive assay. Reference False Recency Rate (FRR, beta): rate long-term screened individuals population test recent assay. Test Performance Curve (q(t)): curve specifies, time since seroconversion tau, probability screened individual test recent assay. Diagnosis--Treatment Curve (RITA2 , w(t)): RITA2 requires additional external parameter curve representing probability, given time since diagnosis, individual ARV treatment. Reference FRR q(t) usually determined reference study population known times since seroconversion. order match screened study population, studies performed non-elite controller, untreated populations. Additionally, reasonable many populations assume individuals progress AIDS diagnosed due presentation symptoms. assumption reference population also non-AIDS progressed. LAg-Avidity assay, recommend use q(t) curve Fellows et. al. [1], based data [2]. curve provided default recent R package. reference FRR, study aware conducted non-elite controller, untreated, non-AIDS population [2], reported reference false recency rate 0.55%. tau parameter cut-used define ‘long-term’ reference study used specify reference FRR parameter. 2 years used [2]. RITA2 requires additional diagnosis--treatment curve. value specified based local information study population. may estimable routine surveillance data. requirement additional parameter reason prefer RITA3 RITA2. s # Analysis Plan recent package can used analysis RITA3 RITA2 algorithms. Additionally, Shiny web application available epiapps.com. [1] Ian E. Fellows, Wolfgang Hladik, Jeffrey W. Eaton, Andrew C. Voetsch, Bharat S. Parekh Ray W. Shiraishi “Improving Biomarker Based HIV Incidence Estimation Treatment Era.” arXiv preprint (2022). [2] Yen T Duong, Reshma Kassanjee, Alex Welte, Meade Morgan, Anindya De, Trudy Dobbs, Erin Rottinghaus, John Nkengasong, Marcel E Curlin, Chonticha Kitti- nunvorakoon, et al. Recalibration limiting antigen avidity eia deter- mine mean duration recent infection divergent hiv-1 subtypes. PloS one, 10(2):e0114947, 2015 [3] Li Yu, Oliver Laeyendecker, Sarah K Wendel, Fuxiong Liang, Wei Liu, Xueyan Wang, Lu Wang, Xianwu Pang, Zhongliao Fang. Low false recent rate limiting-antigen avidity assay among long-term infected subjects guangxi, china. AIDS research human retroviruses, 31(12):1247–1249, 2015.17","code":""},{"path":"https://fellstat.github.io/recent/articles/introduction.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Gettign Started with the 'rita' Package","text":"package implements methods Fellows et. al. 2022 calculation incidence using recency assays LAg-Avidity. treated individuals elite controllers known ave high false positivity rates recency assays, individuals low viral load previous HIV+ diagnosis screened . previous diagnosis can indicated either self-reported previous positive test detection ARV antibodies.","code":""},{"path":"https://fellstat.github.io/recent/articles/introduction.html","id":"data","dir":"Articles","previous_headings":"","what":"Data","title":"Gettign Started with the 'rita' Package","text":"package includes example data, using vignette. recent: Logical. subject test recent assay. hiv: Logical. subject HIV+. undiagnosed: Logical. subject never received positive HIV test. elite_cntr: Logical. Viral load test <1,000. tslt: Numeric. Time since last HIV test months. ever_hiv_test: Logical. subject never tested HIV. weights: Numeric. Survey Weights. btwt001-btwt206: Numeric. Jackknife replicate weights.","code":"library(recent) data(\"assay_data\") head(assay_data[1:7]) #>      recent   hiv undiagnosed elite_cntr       tslt ever_hiv_test   weights #> 2139  FALSE  TRUE       FALSE       TRUE 1232.54154          TRUE  72.32627 #> 6918     NA FALSE       FALSE      FALSE         NA         FALSE 195.87990 #> 5448     NA FALSE       FALSE      FALSE   73.66674          TRUE  87.99275 #> 3277     NA FALSE       FALSE      FALSE   54.07090          TRUE  77.74728 #> 3179     NA FALSE       FALSE      FALSE   25.08993          TRUE 117.30507 #> 3983     NA FALSE       FALSE      FALSE         NA         FALSE 137.49198"},{"path":"https://fellstat.github.io/recent/articles/introduction.html","id":"incidence-estimation","dir":"Articles","previous_headings":"","what":"Incidence Estimation","title":"Gettign Started with the 'rita' Package","text":"Incidence calculated using rita_incidence function. frr assay_surv reference FRR reference probability testing recent day since seroconversion. use values calculated LAg-Avidity assay. default recency period (tau) 2 years. function outputs following values: incidence: incidence. residual_frr: false recency rate accounting screening process. omega_rs: mean duration recency tau accounting screening process. P(R|S) : proportion screened individual test recent. P(S|H) : proportion HIV+ individuals screened . P(H) : HIV prevalence. default function estimates time diagnosis distribution using testing history information among undiagnosed HIV+ cases. , reliability questionable, HIV- population can used instead specifying ``.","code":"inc <- rita_incidence(     recent=assay_data$recent,     undiagnosed=assay_data$undiagnosed,     low_viral=assay_data$elite_cntr,     hiv=assay_data$hiv,     weights=assay_data$weights,     tslt=assay_data$tslt,     ever_hiv_test=assay_data$ever_hiv_test,     frr = lag_avidity_frr()[1],     assay_surv = lag_avidity_survival(2 * 365)   )  knitr::kable(inc) inc <- rita_incidence(     recent=assay_data$recent,     undiagnosed=assay_data$undiagnosed,     low_viral=assay_data$elite_cntr,     hiv=assay_data$hiv,     weights=assay_data$weights,     tslt=assay_data$tslt,     ever_hiv_test=assay_data$ever_hiv_test,     frr = lag_avidity_frr()[1],     assay_surv = lag_avidity_survival(2 * 365),     test_history_population = \"negative\"   ) knitr::kable(inc)"},{"path":"https://fellstat.github.io/recent/articles/introduction.html","id":"bootstrap-confidence-intervals","dir":"Articles","previous_headings":"","what":"Bootstrap Confidence Intervals","title":"Gettign Started with the 'rita' Package","text":"Calculation confidence intervals using survey replicate weights supported. Numerous jackknife bootstrap weight types supported. See survey::svrrepdesign details.","code":"rep_weights <-  dplyr::select(assay_data, dplyr::contains(\"btwt\")) ri <- rita_bootstrap(     recent=assay_data$recent,     undiagnosed=assay_data$undiagnosed,     low_viral=assay_data$elite_cntr,     hiv=assay_data$hiv,     weights=assay_data$weights,     tslt=assay_data$tslt,     ever_hiv_test=assay_data$ever_hiv_test,     rep_weights = rep_weights,     rep_weight_type = \"JK1\"   ) #> Warning in svrepdesign.default(repweights = rep_weights, weights = weights, : #> scale (n-1)/n not provided: guessing n=number of replicates knitr::kable(ri)"},{"path":"https://fellstat.github.io/recent/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ian E. Fellows. Maintainer.","code":""},{"path":"https://fellstat.github.io/recent/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Fellows IE (2022). recent: Incidence Estimation Using Recency Assays. R package version 0.1.0, https://fellstat.github.io/recent/.","code":"@Manual{,   title = {recent: Incidence Estimation Using Recency Assays},   author = {Ian E. Fellows},   year = {2022},   note = {R package version 0.1.0},   url = {https://fellstat.github.io/recent/}, }"},{"path":"https://fellstat.github.io/recent/index.html","id":"recent-incidence-estimation-using-recency-assays","dir":"","previous_headings":"","what":"Incidence Estimation Using Recency Assays","title":"Incidence Estimation Using Recency Assays","text":"Provides functions methods estimate incidence cross-sectional survey. Recent Infection Testing Algorithm (RITA) used identify likely recent infections methods Fellows (2021) used calculate incidence based frequency likely recent infections.","code":""},{"path":"https://fellstat.github.io/recent/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Incidence Estimation Using Recency Assays","text":"can install github using","code":"devtools::install_github(\"fellstat/recent\")"},{"path":"https://fellstat.github.io/recent/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Incidence Estimation Using Recency Assays","text":"brief tour package","code":""},{"path":"https://fellstat.github.io/recent/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Incidence Estimation Using Recency Assays","text":"","code":"library(recent) data(assay_recent) rita_incidence(     recent=assay_data$recent,     undiagnosed=assay_data$undiagnosed,     elite_cntr=assay_data$elite_cntr,     hiv=assay_data$hiv,     weights=assay_data$weights,     tslt=assay_data$tslt,     ever_hiv_test=assay_data$ever_hiv_test   )"},{"path":"https://fellstat.github.io/recent/reference/aids_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"AIDS survival probability curve — aids_survival","title":"AIDS survival probability curve — aids_survival","text":"AIDS survival probability curve","code":""},{"path":"https://fellstat.github.io/recent/reference/aids_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"AIDS survival probability curve — aids_survival","text":"","code":"aids_survival(n = 365 * 5)"},{"path":"https://fellstat.github.io/recent/reference/aids_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"AIDS survival probability curve — aids_survival","text":"n Number days calculate.","code":""},{"path":"https://fellstat.github.io/recent/reference/aids_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"AIDS survival probability curve — aids_survival","text":"vector ith element probability individual infected HIV days ago progressed AIDS.","code":""},{"path":"https://fellstat.github.io/recent/reference/aids_survival.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"AIDS survival probability curve — aids_survival","text":"Ron Brookmeyer James J Goedert.  Censoring epidemic appli-cation hemophilia-associated aids.Biometrics, pages 325–335, 1989.","code":""},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":null,"dir":"Reference","previous_headings":"","what":"Obtain Probability Curve for Treatment — apply_time_to_treatment","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"Obtain Probability Curve Treatment","code":""},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"","code":"apply_time_to_treatment(diag_surv, treat_surv)"},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"diag_surv Time diagnosis probability function vector. probability individual diagnosed days ago diagnosed. treat_surv Time treatment. probability individual diagnosed days ago treatment.","code":""},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"vector ith element probability individual infected days ago either diagnosed treatment.","code":""},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"RITA algorithm excludes individuals based treatment rather diagnosis, function can used calculate survival function use icidence estimation.","code":""},{"path":"https://fellstat.github.io/recent/reference/apply_time_to_treatment.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Obtain Probability Curve for Treatment — apply_time_to_treatment","text":"","code":"data(\"assay_data\")  #Obtain the diagnosis survival function diag_surv <- diagnosis_survival(   assay_data$undiagnosed,   assay_data$tslt,   assay_data$ever_hiv_test,   assay_data$hiv,   assay_data$weights,   n=365*2)  # Posit an average time to treatment of 150 days treat_surv <- 1 - pexp(1:(365*2), 1/150)  # Calculate the treatment survival function diag_treat_surv <- apply_time_to_treatment(diag_surv, treat_surv)  # Compare survival curve for time to diagnosis (red) vs time to treatment (black) plot(diag_treat_surv, type=\"l\") points(diag_surv, type=\"l\",col=\"red\")   #Create a dummy variable for treatment assay_data$treated <- !assay_data$undiagnosed  #Calculate incidence rita_incidence( recent=assay_data$recent, undiagnosed=assay_data$treated, #used treated indicator in place of undiagnosed for screening low_viral=assay_data$elite_cntr, hiv=assay_data$hiv, weights=assay_data$weights, tslt=assay_data$tslt, ever_hiv_test=assay_data$ever_hiv_test, diag_surv = diag_treat_surv ) #>     incidence residual_frr omega_rs  omega_s     P(R|S)    P(S|H)      P(H) #> 1 0.001377029 0.0008349639 0.335939 1.335463 0.01434871 0.1554416 0.2480427"},{"path":"https://fellstat.github.io/recent/reference/assay_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Example Assay Data — assay_data","title":"Example Assay Data — assay_data","text":"Example Assay Data","code":""},{"path":"https://fellstat.github.io/recent/reference/assay_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Example Assay Data — assay_data","text":"1. `recent`: Logical. subject test recent assay. 2. `hiv`: Logical. subject HIV+. 3. `undiagnosed`: Logical. subject never received positive HIV test. 4. `elite_cntr`: Logical. Viral load test <1,000. 5. `tslt`: Numeric. Time since last HIV test months. 6. `ever_hiv_test`: Logical. subject never tested HIV. 7. `weights`: Numeric. Survey Weights. 8. `btwt001-btwt206`: Numeric. Jackknife replicate weights.","code":""},{"path":"https://fellstat.github.io/recent/reference/diagnosis_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival probability for RITA Screening — diagnosis_survival","title":"Survival probability for RITA Screening — diagnosis_survival","text":"Survival probability RITA Screening","code":""},{"path":"https://fellstat.github.io/recent/reference/diagnosis_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survival probability for RITA Screening — diagnosis_survival","text":"","code":"diagnosis_survival(   undiagnosed,   tslt,   ever_hiv_test,   hiv,   weights,   n = 365 * 5,   population = c(\"undiagnosed\", \"negative\") )"},{"path":"https://fellstat.github.io/recent/reference/diagnosis_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survival probability for RITA Screening — diagnosis_survival","text":"undiagnosed logical vector indicating individual never diagnosed HIV+. tslt Time since last test days ever_hiv_test logical vector indicating whether individual ever HIV test hiv HIV positive status. weights Survey weights n Number days calculate population undiagnosed, testing histories undiagnosed HIV+ people used. negative, HIV- population used.","code":""},{"path":"https://fellstat.github.io/recent/reference/diagnosis_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survival probability for RITA Screening — diagnosis_survival","text":"vector ith element probability individual infected days ago diagnosed.","code":""},{"path":"https://fellstat.github.io/recent/reference/diagnosis_survival.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Survival probability for RITA Screening — diagnosis_survival","text":"","code":"data(\"assay_data\")   diagnosis_survival(     assay_data$undiagnosed,     assay_data$tslt,     assay_data$ever_hiv_test,     assay_data$hiv,     assay_data$weights,     n=40) #>  [1] 1.0000000 1.0000000 1.0000000 1.0000000 1.0000000 0.9999999 0.9856229 #>  [8] 0.9645352 0.9645352 0.9645351 0.9645351 0.9645350 0.9645349 0.9645348 #> [15] 0.9645347 0.9645346 0.9645345 0.9645343 0.9645342 0.9645340 0.9645338 #> [22] 0.9645336 0.9645334 0.9645332 0.9645330 0.9578763 0.9461989 0.9361930 #> [29] 0.9329834 0.9329831 0.9329828 0.9122144 0.9063568 0.8961050 0.8788440 #> [36] 0.8743504 0.8708172 0.8708168 0.8615339 0.8615335"},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_frr.html","id":null,"dir":"Reference","previous_headings":"","what":"False Recency Rate (FRR) for the LAg-Avidity — lag_avidity_frr","title":"False Recency Rate (FRR) for the LAg-Avidity — lag_avidity_frr","text":"False Recency Rate (FRR) LAg-Avidity","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_frr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"False Recency Rate (FRR) for the LAg-Avidity — lag_avidity_frr","text":"","code":"lag_avidity_frr()"},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_frr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"False Recency Rate (FRR) for the LAg-Avidity — lag_avidity_frr","text":"vector length 2. first element proportion untreated, non-elite controller, non-AIDS individuals infected 2 years ago test recent LAg-Avidity assay. second standard error proportion.","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":null,"dir":"Reference","previous_headings":"","what":"Survival curve for testing recent — lag_avidity_survival","title":"Survival curve for testing recent — lag_avidity_survival","text":"Survival curve testing recent","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Survival curve for testing recent — lag_avidity_survival","text":"","code":"lag_avidity_survival(n = 365 * 5)"},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Survival curve for testing recent — lag_avidity_survival","text":"n Number days calculate.","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Survival curve for testing recent — lag_avidity_survival","text":"vector ith element probability untreated non-elite controller individual infected days ago tests recent LAg-Avidity assay.","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Survival curve for testing recent — lag_avidity_survival","text":"reanalysis Duong et. al. (2015). See Fellows (2021) details","code":""},{"path":"https://fellstat.github.io/recent/reference/lag_avidity_survival.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Survival curve for testing recent — lag_avidity_survival","text":"Yen T Duong, Reshma Kassanjee, Alex Welte, Meade Morgan, Anindya De, TrudyDobbs, Erin Rottinghaus, John Nkengasong, Marcel E Curlin, Chonticha Kitti-nunvorakoon,  et  al.   Recalibration    limiting  antigen  avidity  eia   deter-mine mean duration recent infection divergent hiv-1 subtypes.PloS  one,10(2):e0114947, 2015.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_bootstrap.html","id":null,"dir":"Reference","previous_headings":"","what":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","title":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","text":"Assay Based Incidence Estimation Survey Bootstrap Intervals","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_bootstrap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","text":"","code":"rita_bootstrap(   recent,   undiagnosed,   low_viral,   hiv,   tslt,   ever_hiv_test,   weights,   rep_weights = NULL,   rep_weight_type = c(\"BRR\", \"Fay\", \"JK1\", \"JK2\", \"JKn\", \"bootstrap\", \"other\"),   combined_weights = TRUE,   tau = 2,   frr = lag_avidity_frr()[1],   test_history_population = c(\"undiagnosed\", \"negative\"),   assay_surv = lag_avidity_survival(tau * 365),   diag_surv = NULL,   treated = NULL,   treat_surv = NULL,   conf_level = 0.95,   show_progress = TRUE,   ... )"},{"path":"https://fellstat.github.io/recent/reference/rita_bootstrap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","text":"recent Logical. Tests recent assay. undiagnosed Logical. previous diagnosis. low_viral Logical.  low viral load (< 1000). hiv Logical. HIV positive. tslt Time since last HIV test (days). ever_hiv_test Subject tested HIV past. weights Survey weights. rep_weights data.frame replicate weights. See survey::svrrepdesign rep_weight_type type resampling weights. See svrepdesign. combined_weights TRUE rep_weights already include sampling weights. usually case. tau long term cut-(years). frr False recency rate among treatment naive non-elite controller non-AIDS individuals. test_history_population undiagnosed, testing histories undiagnosed HIV+ people used. negative, HIV- population used. assay_surv Survival function vector assay among treatment naive non-elite controller non-AIDS individuals. diag_surv time diagnosis survival function vector. treated logical vector indicating subject treatment. needed case use RITA2 screening. treat_surv Probability individual diagnosed days ago treatment. conf_level confidence level bootstrap interval. show_progress TRUE, prints bootstrap progress. may also callback function taking one parameter equal index current replicate. ... additional parameters svrepdesign.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_bootstrap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","text":"data.frame columns estimate, standard error, lower confidence bound upper confidence bound. Rows defined : 1. `incidence`: incidence. 2. `residual_frr`: false recency rate accounting screening process. 3. `omega_rs`: mean duration recency tau accounting screening process. 4. `P(R|S)` : proportion screened individual test recent. 5. `P(S|H)` : proportion HIV+ individuals screened . 6. `P(H)` : HIV prevalence.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_bootstrap.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assay Based Incidence Estimation With Survey Bootstrap Intervals — rita_bootstrap","text":"","code":"data(\"assay_data\") rep_weights <-  dplyr::select(assay_data, dplyr::contains(\"btwt\")) rita_bootstrap( recent=assay_data$recent, undiagnosed=assay_data$undiagnosed, low_viral=assay_data$elite_cntr, hiv=assay_data$hiv, weights=assay_data$weights, tslt=assay_data$tslt, ever_hiv_test=assay_data$ever_hiv_test, rep_weights = rep_weights, rep_weight_type = \"JK1\" ) #> Warning: scale (n-1)/n not provided: guessing n=number of replicates #>                  estimate    std_error   lower_bound upper_bound #> incidence    0.0151573230 0.0110181526 -0.0064378594  0.03675251 #> residual_frr 0.0008826826 0.0001937011  0.0005030355  0.00126233 #> omega_rs     0.2921342013 0.0193668352  0.2541759019  0.33009250 #> omega_s      1.0931364222 0.1296151234  0.8390954485  1.34717740 #> P(R|S)       0.0728330452 0.0471440518 -0.0195675985  0.16523369 #> P(S|H)       0.1953130107 0.0255741415  0.1451886144  0.24543741 #> P(H)         0.2480427494 0.0146154193  0.2193970539  0.27668844"},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Assay Based Incidence Estimation — rita_incidence","title":"Assay Based Incidence Estimation — rita_incidence","text":"Assay Based Incidence Estimation","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assay Based Incidence Estimation — rita_incidence","text":"","code":"rita_incidence(   recent,   undiagnosed,   low_viral,   hiv,   tslt,   ever_hiv_test,   weights = rep(1, length(recent)),   tau = 2,   frr = lag_avidity_frr()[1],   test_history_population = c(\"undiagnosed\", \"negative\"),   assay_surv = lag_avidity_survival(tau * 365),   diag_surv = NULL,   treated = NULL,   treat_surv = NULL )"},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assay Based Incidence Estimation — rita_incidence","text":"recent Logical. Tests recent assay. undiagnosed Logical. previous diagnosis. low_viral Logical. low viral load (< 1000). hiv Logical. HIV positive. tslt Time since last HIV test (days). ever_hiv_test Subject tested HIV past. weights Survey weights. tau long term cut-(years). frr Reference false recency rate among treatment naive non-elite controller non-AIDS individuals. test_history_population undiagnosed, testing histories undiagnosed HIV+ people used. negative, HIV- population used. assay_surv Survival function vector assay among treatment naive non-elite controller non-AIDS individuals. diag_surv time diagnosis survival function vector. specified, overrides internal calculation. treated logical vector indicating subject treatment. needed case use RITA2 screening. treat_surv Probability individual diagnosed days ago treatment.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assay Based Incidence Estimation — rita_incidence","text":"data.frame following values: 1. `incidence`: incidence. 2. `residual_frr`: false recency rate accounting screening process. 3. `omega_rs`: mean duration recency tau accounting screening process. 4. `P(R|S)` : proportion screened individual test recent. 5. `P(S|H)` : proportion HIV+ individuals screened . 6. `P(H)` : HIV prevalence.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Assay Based Incidence Estimation — rita_incidence","text":"function estimates HIV incidence cross-sectional survey designs using recency assay combined Recent Infection Testing Algorithm (RITA) screening step, used remove long-term individuals elevated false recency rates assay. Two RITA algorithms supported. RITA3 treats individuals either previous diagnosis (determined self report ARV biomarkers) viral load <1,000 c/ml non-recent regardless result recency assay. RITA2 treats individuals either treatment viral load <1,000 c/ml non-recent. default RITA RITA3. 'treated' non-null, RITA2 used. RITA2 also requires vector 'treat_surv' whose ith element represents probability individual diagnosed days ago treatment.","code":""},{"path":"https://fellstat.github.io/recent/reference/rita_incidence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assay Based Incidence Estimation — rita_incidence","text":"","code":"data(\"assay_data\") rita_incidence( recent=assay_data$recent, undiagnosed=assay_data$undiagnosed, low_viral=assay_data$elite_cntr, hiv=assay_data$hiv, weights=assay_data$weights, tslt=assay_data$tslt, ever_hiv_test=assay_data$ever_hiv_test ) #>    incidence residual_frr  omega_rs  omega_s     P(R|S)   P(S|H)      P(H) #> 1 0.01515732 0.0008826826 0.2921342 1.093136 0.07283305 0.195313 0.2480427  # RITA2 Screening ## Posit an average time from diagnosis to treatment of 150 days treat_surv <- 1 - pexp(1:(365*2), 1/150)  ## Create a dummy variable for treatment assay_data$treated <- !assay_data$undiagnosed assay_data$treated[assay_data$undiagnosed][c(40L, 47L, 59L, 63L,     83L, 157L, 164L, 166L, 194L, 209L)] <- FALSE  # Calculate incidence using RITA2 screening (i.e. screen as non-recent if either treated or low viral load) rita_incidence( recent=assay_data$recent, undiagnosed=assay_data$undiagnosed, low_viral=assay_data$elite_cntr, hiv=assay_data$hiv, weights=assay_data$weights, tslt=assay_data$tslt, ever_hiv_test=assay_data$ever_hiv_test, treated = assay_data$treated, treat_surv = treat_surv ) #>    incidence residual_frr omega_rs  omega_s     P(R|S)   P(S|H)      P(H) #> 1 0.01319826 0.0008520468 0.335939 1.335463 0.07283305 0.195313 0.2480427"},{"path":"https://fellstat.github.io/recent/reference/shiny_rita.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Shiny UI — shiny_rita","title":"Run Shiny UI — shiny_rita","text":"Run Shiny UI","code":""},{"path":"https://fellstat.github.io/recent/reference/shiny_rita.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Shiny UI — shiny_rita","text":"","code":"shiny_rita()"},{"path":"https://fellstat.github.io/recent/reference/shiny_rita.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Run Shiny UI — shiny_rita","text":"Runs Shiny application","code":""}]
